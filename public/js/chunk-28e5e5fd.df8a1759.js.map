{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es7.object.get-own-property-descriptors.js","webpack:///./node_modules/core-js/modules/_own-keys.js","webpack:///./node_modules/@babel/runtime/helpers/esm/defineProperty.js","webpack:///./src/views/cadastro/Produto.vue?1eeb","webpack:///src/views/cadastro/Produto.vue","webpack:///./src/views/cadastro/Produto.vue?a60f","webpack:///./src/views/cadastro/Produto.vue"],"names":["$export","ownKeys","toIObject","gOPD","createProperty","S","getOwnPropertyDescriptors","object","key","desc","O","getDesc","f","keys","result","i","length","undefined","gOPN","gOPS","anObject","Reflect","module","exports","it","getSymbols","concat","_defineProperty","obj","value","Object","defineProperty","enumerable","configurable","writable","render","_vm","this","_h","$createElement","_c","_self","staticStyle","attrs","staticRenderFns","components","data","className","nameLowerCase","config","mounted","$","w2grid","getConfig","grid","methods","name","url","autoLoad","skip","show","footer","toolbar","lineNumbers","selectColumn","toolbarAdd","toolbarDelete","toolbarSave","toolbarEdit","withs","columns","searches","search","multiSearch","limit","onLoad","event","xhr","responseText","onAdd","openPopup","onEdit","row","onDelete","id","method","w2ui","foo","foo_toolbar","foo_tabs","w2form","autosize","style","fields","record","onRequest","actions","validate","save","error","arrValue","join","field","w2popup","open","title","body","width","height","showMax","onToggle","box","hide","onComplete","resize","onOpen","w2render","onValidate","component"],"mappings":"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","file":"js/chunk-28e5e5fd.df8a1759.js","sourcesContent":["// https://github.com/tc39/proposal-object-getownpropertydescriptors\nvar $export = require('./_export');\nvar ownKeys = require('./_own-keys');\nvar toIObject = require('./_to-iobject');\nvar gOPD = require('./_object-gopd');\nvar createProperty = require('./_create-property');\n\n$export($export.S, 'Object', {\n  getOwnPropertyDescriptors: function getOwnPropertyDescriptors(object) {\n    var O = toIObject(object);\n    var getDesc = gOPD.f;\n    var keys = ownKeys(O);\n    var result = {};\n    var i = 0;\n    var key, desc;\n    while (keys.length > i) {\n      desc = getDesc(O, key = keys[i++]);\n      if (desc !== undefined) createProperty(result, key, desc);\n    }\n    return result;\n  }\n});\n","// all object keys, includes non-enumerable and symbols\nvar gOPN = require('./_object-gopn');\nvar gOPS = require('./_object-gops');\nvar anObject = require('./_an-object');\nvar Reflect = require('./_global').Reflect;\nmodule.exports = Reflect && Reflect.ownKeys || function ownKeys(it) {\n  var keys = gOPN.f(anObject(it));\n  var getSymbols = gOPS.f;\n  return getSymbols ? keys.concat(getSymbols(it)) : keys;\n};\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"width\":\"100%\",\"height\":\"40vh\"},attrs:{\"id\":\"main-for-w2ui-infinite-scroll\"}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div\r\n    id='main-for-w2ui-infinite-scroll'\r\n    style='width: 100%; height: 40vh'\r\n  ></div>\r\n</template>\r\n\r\n<script>\r\nconst nameUpperCase = 'Produto'\r\nconst nameLowerCase = 'produto' \r\n\r\nconst search =  [\r\n    { field: 'id', label: 'ID ', type: 'int' },\r\n    { field: 'nome', label: 'Nome do '+nameUpperCase, type: 'text' },\r\n    { field: 'ean', label: 'EAN', type: 'text' },\r\n    { field: 'cor', label: 'Cor', type: 'text' },\r\n    { field: 'marca', label: 'Marca', type: 'text' },\r\n    { field: 'forma', label: 'Forma', type: 'text' },\r\n]\r\nconst columns = [\r\n    { field: 'id', text: 'ID', size: '5%' },\r\n    { field: 'nome', text: 'nome', size: '50%' },\r\n    { field: 'ean', text: 'EAN', size: '50%' },\r\n    { field: 'marca', text: 'Marca', size: '50%' },\r\n    { field: 'forma', text: 'Forma', size: '50%' },\r\n]\r\nconst fields = [\r\n    { field: 'nome', label: 'Nome', type: 'text', required: true, attr: 'style=\"with:100%;\"', html: { label: 'Nome do '+ nameUpperCase } },\r\n    { field: 'ean', label: 'EAN', type: 'text', required: true, attr: 'style=\"with:100%;\"', html: { label: 'EAN' } },\r\n    { field: 'cor', label: 'Cor', type: 'text', required: false, attr: 'style=\"with:100%;\"', html: { label: 'Cor' } },\r\n    { field: 'marca', label: 'Marca', type: 'text', required: false, attr: 'style=\"with:100%;\"', html: { label: 'Marca' } },\r\n    { field: 'forma', label: 'Forma', type: 'text', required: false, attr: 'style=\"with:100%;\"', html: { label: 'Forma' } }    \r\n]\r\nexport default {\r\n  components: {},\r\n  data: () => {\r\n    return {\r\n      className: nameLowerCase,\r\n      config: {},\r\n    };\r\n  },\r\n  mounted () {\r\n    $('#main-for-w2ui-infinite-scroll').w2grid(this.getConfig().grid);\r\n  },\r\n  methods: {\r\n    getConfig: () => {\r\n      let className = process.env.VUE_APP_BASE_API + nameLowerCase\r\n      let config = {\r\n        grid: {\r\n          name: 'grid1',\r\n          url: className,\r\n          autoLoad: true,\r\n          skip: 0,\r\n          show: {\r\n            footer: true,\r\n            toolbar: true,\r\n            lineNumbers: false,\r\n            selectColumn: true,\r\n            toolbarAdd: true,\r\n            toolbarDelete: true,\r\n            toolbarSave: false,\r\n            toolbarEdit: true,\r\n          },\r\n          withs: [],\r\n          columns: columns,\r\n          searches: search,\r\n          multiSearch: true,\r\n          limit: 6,\r\n          onLoad: (event) => {\r\n            let data = event.xhr.responseJSON;\r\n            event.xhr.responseText = { records: data};\r\n          },\r\n          onAdd: function (event) {\r\n            this.openPopup()\r\n            // window.location.href = className + '/create';\r\n          },\r\n          onEdit: function (event) {\r\n            let row = this.get(this.getSelection())[0]\r\n            this.openPopup(row)\r\n          },\r\n          onDelete: function (event) {\r\n          },\r\n          openPopup: (event = {}) => {\r\n            let url = process.env.VUE_APP_BASE_API + nameLowerCase\r\n            let method = 'POST'\r\n            if (event.id) {\r\n              url += '/' + event.id\r\n              method = 'PUT'\r\n            }\r\n            if (w2ui.foo) {\r\n              delete w2ui.foo\r\n              delete w2ui.foo_toolbar\r\n              delete w2ui.foo_tabs\r\n            }\r\n            $().w2form({\r\n              url: url,\r\n              method: method,\r\n              name: 'foo',\r\n              autosize: true,\r\n              style: 'background-color: transparent;z-index:99999',\r\n              fields: [...fields, ...[\r\n                { field: 'category_id', label: 'Categoria', required: true, type: 'list', html: { label: 'Categoria' }, options: {\r\n                    openOnFocus: true,\r\n                    url: process.env.VUE_APP_BASE_API + 'categoria',\r\n                    onRequest(event) {\r\n                      event.postData.search = [{ field: 'nome', type: 'text', operator: 'contains', value: event.postData.search }]\r\n                      event.postData.isSelect = ['id', 'nome as text']\r\n                    }\r\n                } },\r\n              ]],\r\n              record: event,\r\n              onRequest: function(event) {\r\n                  \r\n              },\r\n              actions: {\r\n                \"Reset\": function () { this.clear(); },\r\n                \"Save\": function (event) {\r\n                  let oldValue = this.record\r\n                  let postData = {tipo: null}\r\n                  let obj = this\r\n                  for (const key in obj.fields) {\r\n                      if (Object.hasOwnProperty.call(obj.fields, key)) {\r\n                          const f = obj.fields[key];\r\n                          if (f.type == 'enum') {\r\n                          }\r\n                          if (f.type == 'list') {\r\n                            let el = $(f.el).w2field()\r\n                            postData[f.field] = el.get().id\r\n                          }\r\n                      }\r\n                  }\r\n                  this.record = {...this.record, ...postData}\r\n                  this.validate();\r\n                  this.save((e) => {\r\n                  if (e.status !== true) {\r\n                    if (e.error) {\r\n                      let err = e.error\r\n                      for (const key in err) {\r\n                        if (Object.hasOwnProperty.call(err, key)) {\r\n                          const arrValue = err[key];\r\n                            this.last.errors.push({\r\n                              error: arrValue.join(' - '),\r\n                              field: this.get(key)\r\n                            })                            \r\n                        }\r\n                      }\r\n                      this.showErrors()\r\n                    }\r\n                    // w2alert(e.message)\r\n                    window.notify({\r\n                      title: 'Falha ao salvar',\r\n                      text: e.message,\r\n                      iconPack: 'feather',\r\n                      icon: 'icon-alert-circle',\r\n                      color: 'danger'\r\n                    })\r\n                  } else {\r\n                    w2popup.close()\r\n                    window.notify({\r\n                      title: 'Salvo com Sucesso',\r\n                      text: e.message,\r\n                      iconPack: 'feather',\r\n                      icon: 'icon-alert-circle',\r\n                      color: 'success'\r\n                    })\r\n                    $(\".w2ui-icon-reload\").click()\r\n                    setTimeout(() => {\r\n                      w2popup.close()\r\n                    }, 5000);\r\n                  }\r\n                  this.record = oldValue\r\n                }) }\r\n              }\r\n            })\r\n            // }\r\n            w2popup.open({\r\n              title   : 'Atualizar '+ nameUpperCase,\r\n              body    : '<div id=\"form\" style=\"width: 100%; height: 100%;\"></div>',\r\n              style   : 'padding: 15px 0px 0px 0px',\r\n              width   : 400,\r\n              height  : 400,\r\n              showMax : true,\r\n              onToggle: function (event) {\r\n                $(w2ui.foo.box).hide();\r\n                event.onComplete = function () {\r\n                  $(w2ui.foo.box).show();\r\n                  w2ui.foo.resize();\r\n                }\r\n              },\r\n              onOpen: function (event) {\r\n                event.onComplete = function () {\r\n                  $('#w2ui-popup #form').w2render('foo');\r\n                }\r\n              }\r\n            })\r\n          },\r\n          onValidate(event) {\r\n          },\r\n        },\r\n      };\r\n      return config;\r\n    },\r\n  },\r\n};\r\n</script>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Produto.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Produto.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Produto.vue?vue&type=template&id=c54acbd4&\"\nimport script from \"./Produto.vue?vue&type=script&lang=js&\"\nexport * from \"./Produto.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}